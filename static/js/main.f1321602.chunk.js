(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(21),i=n.n(c),o=(n(29),n(23)),r=n(2),l=n(3),u=n(8),d=n.p+"static/media/logo.bbe2a6ea.svg",p=n(0);function j(e){var t=Object(l.h)();return Object(p.jsxs)("header",{className:"header",children:[Object(p.jsx)("img",{src:d,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f: Mesto Russia",className:"header__logo"}),Object(p.jsxs)("div",{className:"header__login",children:[e.email&&Object(p.jsx)("p",{className:"header__login_email",children:e.email}),"/sign-in"===t.pathname&&Object(p.jsx)(u.b,{to:"/sign-up",className:"header__login_link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),"/sign-up"===t.pathname&&Object(p.jsx)(u.b,{to:"/sign-in",className:"header__login_link",children:"\u0412\u043e\u0439\u0442\u0438"}),"/"===t.pathname&&Object(p.jsx)("p",{to:"/sign-out",className:"header__login_link",onClick:e.onSignOut,children:"\u0412\u044b\u0439\u0442\u0438"})]})]})}var h=s.a.createContext();function m(e){var t=s.a.useContext(h),n=e.card.owner._id===t._id,a=e.card.likes.some((function(e){return e._id===t._id})),c="element__delete-button ".concat(n?"":"element__delete-button_disactive"),i="element__caption-like ".concat(a?"element__caption-like_active":"");return Object(p.jsxs)("figure",{className:"element",children:[Object(p.jsx)("img",{src:e.card.link,alt:e.card.name,className:"element__picture",onClick:function(){e.onCardClick(e.card)}}),Object(p.jsxs)("figcaption",{className:"element__caption",children:[Object(p.jsx)("h2",{className:"element__caption-text",children:e.card.name}),Object(p.jsxs)("div",{className:"element__caption-like-group",children:[Object(p.jsx)("button",{type:"button",className:i,onClick:function(){e.onCardLike(e.card)}}),Object(p.jsx)("p",{className:"element__caption-like-count",children:e.card.likes.length})]})]}),Object(p.jsx)("button",{type:"button",className:c,onClick:function(){e.onDeleteClick(e.card)}})]})}function b(e){var t=e.text||"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...";return Object(p.jsx)("h1",{className:"content__title",children:t})}function _(e){var t=s.a.useContext(h),n=s.a.useState("\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f..."),a=Object(r.a)(n,2),c=a[0],i=a[1];return s.a.useEffect((function(){t&&e.cards||i("\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f...")}),[t,e.cards]),t&&e.cards?Object(p.jsxs)("main",{className:"content",children:[Object(p.jsxs)("section",{className:"profile","aria-label":"content",children:[Object(p.jsxs)("div",{className:"profile__avatar-container",children:[Object(p.jsx)("img",{src:t.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440: ".concat(t.name),className:"profile__avatar"}),Object(p.jsx)("button",{className:"profile__edit-ava-button",onClick:e.onEditAvatar})]}),Object(p.jsxs)("div",{className:"profile__info",children:[Object(p.jsxs)("div",{className:"profile__name-block",children:[Object(p.jsx)("h1",{className:"profile__name",children:t.name}),Object(p.jsx)("button",{type:"button",className:"button profile__edit-button",onClick:e.onEditProfile})]}),Object(p.jsx)("p",{className:"profile__job",children:t.about})]}),Object(p.jsx)("button",{type:"button",className:"button profile__add-button",onClick:e.onAddPlace})]}),Object(p.jsx)("section",{className:"elements","aria-label":"elements",children:e.cards.map((function(t){return Object(p.jsx)(m,{card:t,onCardClick:e.onCardClick,onDeleteClick:e.onDeleteClick,onCardLike:e.onCardLike},t._id)}))})]}):Object(p.jsx)(b,{text:c})}function f(){var e=(new Date).getFullYear();return Object(p.jsxs)("footer",{className:"footer",children:["\xa9 ",e," Mesto Russia"]})}function g(e){return Object(p.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen&&"popup_opened"),children:Object(p.jsxs)("form",{action:"/",name:e.name,className:"popup__container",noValidate:!0,onSubmit:function(t){t.preventDefault(),e.onSubmit()},children:[Object(p.jsx)("button",{type:"button",className:"popup__close-button",onClick:e.onClose}),Object(p.jsxs)("fieldset",{className:"popup__fieldset",children:[e.title&&Object(p.jsx)("h2",{className:"popup__title",children:e.title}),e.children,e.btnName&&Object(p.jsx)("button",{type:"submit",className:"popup__save-button",children:e.btnName})]})]})})}function O(e){var t=s.a.createRef();s.a.useEffect((function(){t.current.value=""}),[t]);return Object(p.jsxs)(g,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"ava",btnName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(n){e.onUpdateAvatar({avatar:t.current.value})},children:[Object(p.jsx)("input",{ref:t,type:"url",name:"profileAvatarLink",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",className:"popup__input popup__input_value_src",required:!0}),Object(p.jsx)("p",{className:"popup__error profileAvatarLink-error"})]})}function x(e){var t=s.a.useContext(h),n=s.a.useState(""),a=Object(r.a)(n,2),c=a[0],i=a[1],o=s.a.useState(""),l=Object(r.a)(o,2),u=l[0],d=l[1];s.a.useEffect((function(){i(t.name),d(t.about)}),[t,e.isOpen]);return Object(p.jsxs)(g,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit",btnName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){e.onUpdateUser({name:c,about:u})},children:[Object(p.jsx)("input",{type:"text",name:"profileName",placeholder:"\u0418\u043c\u044f",className:"popup__input popup__input_value_name",minLength:"2",maxLength:"40",required:!0,value:c,onChange:function(e){i(e.target.value)}}),Object(p.jsx)("p",{className:"popup__error profileName-error",children:"\xa0"}),Object(p.jsx)("input",{type:"text",name:"profileJob",placeholder:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",className:"popup__input popup__input_value_job",minLength:"2",maxLength:"200",required:!0,value:u,onChange:function(e){d(e.target.value)}}),Object(p.jsx)("p",{className:"popup__error profileJob-error",children:"\xa0"})]})}function v(e){var t=s.a.useState(""),n=Object(r.a)(t,2),a=n[0],c=n[1],i=s.a.useState(""),o=Object(r.a)(i,2),l=o[0],u=o[1];s.a.useEffect((function(){c(""),u("")}),[e.isOpen]);return Object(p.jsxs)(g,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add",btnName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){e.onAddPlace({name:a,link:l})},children:[Object(p.jsx)("input",{type:"text",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"popup__input popup__input_value_text",minLength:"2",maxLength:"30",required:!0,value:a,onChange:function(e){c(e.target.value)}}),Object(p.jsx)("p",{className:"popup__error name-error"}),Object(p.jsx)("input",{type:"url",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__input popup__input_value_src",required:!0,value:l,onChange:function(e){u(e.target.value)}}),Object(p.jsx)("p",{className:"popup__error link-error"})]})}function N(e){return Object(p.jsx)(g,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"confirm",btnName:"\u0414\u0430",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){e.onDeletePlace(e.card)}})}function C(e){var t,n,a;return Object(p.jsx)("div",{className:"popup popup_type_show ".concat(e.card&&"popup_opened"),children:Object(p.jsxs)("figure",{className:"popup__card",children:[Object(p.jsx)("button",{type:"button",className:"popup__close-button",onClick:e.onClose}),Object(p.jsx)("img",{src:null===(t=e.card)||void 0===t?void 0:t.link,alt:null===(n=e.card)||void 0===n?void 0:n.name,className:"popup__picture"}),Object(p.jsx)("figcaption",{className:"popup__caption",children:null===(a=e.card)||void 0===a?void 0:a.name})]})})}function k(e){var t=s.a.useState(""),n=Object(r.a)(t,2),a=n[0],c=n[1],i=s.a.useState(""),o=Object(r.a)(i,2),l=o[0],d=o[1],j=function(e){"email"===e.target.name&&c(e.target.value),"password"===e.target.name&&d(e.target.value)};return Object(p.jsxs)("section",{className:"login-register",children:[Object(p.jsx)("h2",{className:"login-register__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(p.jsxs)("form",{action:"/",name:e.type,className:"login-register__form",noValidate:!0,onSubmit:function(t){t.preventDefault(),e.onRegister({email:a,password:l}),c(""),d("")},children:[Object(p.jsx)("input",{type:"text",name:"email",placeholder:"Email",className:"login-register__input",minLength:"5",maxLength:"40",required:!0,value:a,onChange:j}),Object(p.jsx)("input",{type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"login-register__input",minLength:"5",maxLength:"200",required:!0,value:l,onChange:j}),Object(p.jsx)("button",{type:"submit",className:"login-register__submit-btn",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(p.jsxs)("p",{className:"login-register__already-title",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b ? ",Object(p.jsx)(u.b,{to:"/sign-in",className:"login-register__already-login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})}function y(e){var t=s.a.useState(""),n=Object(r.a)(t,2),a=n[0],c=n[1],i=s.a.useState(""),o=Object(r.a)(i,2),l=o[0],u=o[1],d=function(e){"email"===e.target.name&&c(e.target.value),"password"===e.target.name&&u(e.target.value)};return Object(p.jsxs)("section",{className:"login-register",children:[Object(p.jsx)("h2",{className:"login-register__title",children:"\u0412\u0445\u043e\u0434"}),Object(p.jsxs)("form",{action:"/",name:e.type,className:"login-register__form",noValidate:!0,onSubmit:function(t){t.preventDefault(),e.onLogin({email:a,password:l})},children:[Object(p.jsx)("input",{type:"text",name:"email",placeholder:"Email",className:"login-register__input",minLength:"5",maxLength:"40",required:!0,value:a,onChange:d}),Object(p.jsx)("input",{type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"login-register__input",minLength:"5",maxLength:"200",required:!0,value:l,onChange:d}),Object(p.jsx)("button",{type:"submit",className:"login-register__submit-btn",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}var L=n(12),S=n(24);function U(e){var t=e.component,n=Object(S.a)(e,["component"]);return Object(p.jsx)(l.b,{children:n.isLoggedIn?Object(p.jsx)(t,Object(L.a)({},n)):Object(p.jsx)(l.a,{to:"/sign-in"})})}var P=n(14),A=n(15),E="https://auth.nomoreparties.co",w=new(function(){function e(t){var n=t.tokenAuth,a=t.groupId,s=t.apiURL;Object(P.a)(this,e),this._apiURL="".concat(s,"/").concat(a),this._headers={authorization:n,"Content-Type":"application/json"}}return Object(A.a)(e,[{key:"getInitialCards",value:function(){return fetch("".concat(this._apiURL,"/cards"),{headers:this._headers}).then(this._handleApiResult.bind(null,"getInitialCards"))}},{key:"addCard",value:function(e){return fetch("".concat(this._apiURL,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleApiResult.bind(null,"addCard"))}},{key:"toggleLikeCard",value:function(e,t){return fetch("".concat(this._apiURL,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleApiResult.bind(null,"likeCard"))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._apiURL,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleApiResult.bind(null,"deleteCard"))}},{key:"editUserInfo",value:function(e){return fetch("".concat(this._apiURL,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleApiResult.bind(null,"editUserInfo"))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._apiURL,"/users/me"),{headers:this._headers}).then(this._handleApiResult.bind(null,"getUserInfo"))}},{key:"setUserAvatar",value:function(e){return fetch("".concat(this._apiURL,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleApiResult.bind(null,"setUserAvatar"))}},{key:"_handleApiResult",value:function(e,t){return t.ok?t.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0432 ".concat(e,": ").concat(t.status," ").concat(t.statusText))}}]),e}())({tokenAuth:"30b18b22-df4e-456d-bb26-16cda3a69c12",groupId:"cohort-21",apiURL:"https://mesto.nomoreparties.co/v1"}),R=new(function(){function e(){Object(P.a)(this,e),this._headers={"Content-Type":"application/json"}}return Object(A.a)(e,[{key:"registerUser",value:function(e){return fetch("".concat(E,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():400===e.status?Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 {registerUser}: \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"):Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0432 {registerUser}: ".concat(e.status," ").concat(e.statusText))}))}},{key:"loginUser",value:function(e){return fetch("".concat(E,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(t){return t.ok?t.json():400===t.status?Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 {loginUser}: \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"):401===t.status?Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 {loginUser}: \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 ".concat(e.email," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")):Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0432 {loginUser}: ".concat(t.status," ").concat(t.statusText))}))}},{key:"validateUser",value:function(e){return fetch("".concat(E,"/users/me"),{method:"GET",headers:Object(L.a)(Object(L.a)({},this._headers),{},{Authorization:"Bearer ".concat(e)})}).then((function(e){return e.ok?e.json():400===e.status?Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 {validateUser}: \u0422\u043e\u043a\u0435\u043d \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0435 \u0432 \u0442\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435"):401===e.status?Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 {validateUser}: \u041f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d"):Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0432 {validateUser}: ".concat(e.status," ").concat(e.statusText))}))}}]),e}()),I=n.p+"static/media/register_success.1b6082f8.svg",T=n.p+"static/media/register_fail.df8eddf6.svg";function D(e){return Object(p.jsx)(g,{isOpen:e.isOpen,onClose:e.onClose,children:e.success?Object(p.jsxs)("figure",{className:"popup__tooltip",children:[Object(p.jsx)("img",{src:I,alt:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f: \u0443\u0441\u043f\u0435\u0445"}),Object(p.jsx)("figcaption",{className:"popup__title",children:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c"})]}):Object(p.jsxs)("figure",{className:"popup__tooltip",children:[Object(p.jsx)("img",{src:T,alt:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f: \u043e\u0448\u0438\u0431\u043a\u0430"}),Object(p.jsx)("figcaption",{className:"popup__title",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."})]})})}var q=function(){var e=s.a.useState(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],c=s.a.useState(!1),i=Object(r.a)(c,2),u=i[0],d=i[1],m=s.a.useState(!1),b=Object(r.a)(m,2),g=b[0],L=b[1],S=s.a.useState(!1),P=Object(r.a)(S,2),A=P[0],E=P[1],I=s.a.useState(null),T=Object(r.a)(I,2),q=T[0],J=T[1],F=s.a.useState(null),B=Object(r.a)(F,2),M=B[0],V=B[1],z=s.a.useState(null),H=Object(r.a)(z,2),G=H[0],Y=H[1],K=s.a.useState([]),Q=Object(r.a)(K,2),W=Q[0],X=Q[1],Z=s.a.useState(""),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=s.a.useState(!1),ae=Object(r.a)(ne,2),se=ae[0],ce=ae[1],ie=Object(l.g)(),oe=function(){Promise.all([w.getUserInfo(),w.getInitialCards()]).then((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];Y(n),X(a)})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))};s.a.useEffect((function(){var e=localStorage.getItem("jwt");e&&R.validateUser(e).then((function(e){e.data.email&&(te(e.data.email),ie.push("/"),oe())})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))}),[ie]);var re=function(e){e&&"Escape"===e.key&&le()},le=function(){L(!1),a(!1),d(!1),J(null),V(null),document.removeEventListener("keydown",re)},ue=function(){var e=q;w.deleteCard(e._id).then((function(){X((function(t){return t.filter((function(t){return t._id!==e._id}))}))})).then(le).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))};return Object(p.jsxs)(h.Provider,{value:G,children:[Object(p.jsx)(j,{email:ee,onSignOut:function(){te(""),localStorage.removeItem("jwt"),ie.push("/sign-in")}}),Object(p.jsxs)(l.d,{children:[Object(p.jsx)(U,{exact:!0,path:"/",component:_,cards:W,isLoggedIn:!!ee,onEditProfile:function(){document.addEventListener("keydown",re),a(!0)},onAddPlace:function(){document.addEventListener("keydown",re),d(!0)},onEditAvatar:function(){document.addEventListener("keydown",re),L(!0)},onCardClick:function(e){document.addEventListener("keydown",re),V(e)},onDeleteClick:function(e){document.addEventListener("keydown",re),J(e)},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===G._id}));w.toggleLikeCard(e._id,t).then((function(t){X((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))},onCardDelete:ue}),Object(p.jsx)(l.b,{path:"/sign-up",children:Object(p.jsx)(k,{onRegister:function(e){R.registerUser(e).then((function(e){e.data.email&&(ce(!0),ie.push("/sign-in"),E(!0))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+e),ce(!1),E(!0)}))}})}),Object(p.jsx)(l.b,{path:"/sign-in",children:Object(p.jsx)(y,{onLogin:function(e){R.loginUser(e).then((function(t){var n=t.token;n&&(te(e.email),localStorage.setItem("jwt",n),ie.push("/"),oe())})).catch((function(e){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))}})}),Object(p.jsx)(U,{path:"*"})]}),Object(p.jsx)(f,{}),G&&W&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{isOpen:n,onClose:le,onUpdateUser:function(e){var t=e.name,n=e.about;w.editUserInfo({name:t,about:n}).then((function(e){Y(e)})).then(le).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))}}),Object(p.jsx)(O,{isOpen:g,onClose:le,onUpdateAvatar:function(e){w.setUserAvatar(e).then((function(e){Y(e)})).then(le).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))}}),Object(p.jsx)(v,{isOpen:u,onClose:le,onAddPlace:function(e){w.addCard(e).then((function(e){X([e].concat(Object(o.a)(W)))})).then(le).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))}}),Object(p.jsx)(N,{isOpen:!!q,onClose:le,onDeletePlace:ue})]}),Object(p.jsx)(D,{isOpen:A,onClose:function(){E(!1)},success:!!se}),Object(p.jsx)(C,{card:M,onClose:le})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(u.a,{children:Object(p.jsx)(q,{})})}),document.getElementById("root")),J()}},[[36,1,2]]]);
//# sourceMappingURL=main.f1321602.chunk.js.map